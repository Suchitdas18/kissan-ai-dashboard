<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kissan AI - Smart Agriculture Platform</title>
    <meta name="description" content="Kissan AI - Smart crop and soil decisions for farmers and mandi wholesalers">
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="translations.js"></script>
    <script src="farming-data.js"></script>
    <script src="gemini-api.js"></script>
    <script src="ai-assistant.js"></script>
</head>

<body class="role-selection-page">
    <div class="container">
        <!-- Language Selector -->
        <div class="language-selector">
            <button class="language-btn" id="languageBtn">
                <span class="language-icon">ЁЯМР</span>
                <span class="language-text" id="currentLanguage">English</span>
                <span class="dropdown-arrow">тЦ╝</span>
            </button>
            <div class="language-dropdown hidden" id="languageDropdown">
                <div class="language-option" data-lang="en">English</div>
                <div class="language-option" data-lang="hi">рд╣рд┐рдВрджреА (Hindi)</div>
                <div class="language-option" data-lang="bn">ржмрж╛ржВрж▓рж╛ (Bengali)</div>
                <div class="language-option" data-lang="ta">родрооро┐ро┤рпН (Tamil)</div>
                <div class="language-option" data-lang="te">р░др▒Жр░▓р▒Бр░Чр▒Б (Telugu)</div>
                <div class="language-option" data-lang="mr">рдорд░рд╛рдареА (Marathi)</div>
                <div class="language-option" data-lang="gu">ркЧрлБркЬрк░рк╛ркдрлА (Gujarati)</div>
                <div class="language-option" data-lang="kn">р▓Хр▓ир│Нр▓ир▓б (Kannada)</div>
                <div class="language-option" data-lang="pa">рикрй░риЬри╛римрйА (Punjabi)</div>
            </div>
        </div>

        <!-- Header with branding -->
        <header class="role-header">
            <div class="logo-container">
                <div class="logo-icon">ЁЯМ╛</div>
                <h1 class="app-name" id="appName">Kissan AI</h1>
            </div>
            <p class="tagline" id="tagline">Smart Farming Solutions</p>
        </header>

        <!-- Role Selection Section -->
        <main class="role-selection-container">
            <h2 class="selection-title" id="selectionTitle">рдЖрдк рдХреМрди рд╣реИрдВ?<br><span class="subtitle-en">Who are you?</span>
            </h2>

            <div class="role-cards">
                <!-- Farmer Card -->
                <a href="farmer.html" class="role-card farmer-card">
                    <div class="card-icon">ЁЯСитАНЁЯМ╛</div>
                    <h3 class="card-title" id="farmerTitle">рдХрд┐рд╕рд╛рди<br><span>Farmer</span></h3>
                    <p class="card-desc" id="farmerDesc">рдлрд╕рд▓ рдФрд░ рдорд┐рдЯреНрдЯреА рдХреА рдЬрд╛рдирдХрд╛рд░реА</p>
                    <div class="card-arrow">тЖТ</div>
                </a>

                <!-- Mandi/Wholesaler Card -->
                <a href="mandi.html" class="role-card mandi-card">
                    <div class="card-icon">ЁЯПк</div>
                    <h3 class="card-title" id="mandiTitle">рдордВрдбреА / рдереЛрдХ рд╡реНрдпрд╛рдкрд╛рд░реА<br><span>Mandi / Wholesaler</span></h3>
                    <p class="card-desc" id="mandiDesc">рдлрд╕рд▓ рдЦрд░реАрджреЗрдВ рдФрд░ рдмреЗрдЪреЗрдВ</p>
                    <div class="card-arrow">тЖТ</div>
                </a>
            </div>
        </main>

        <!-- Footer -->
        <footer class="role-footer">
            <p id="footerText">рд╕рднреА рднрд╛рд░рддреАрдп рдХрд┐рд╕рд╛рдиреЛрдВ рдХреЗ рд▓рд┐рдП рдмрдирд╛рдпрд╛ рдЧрдпрд╛ ЁЯЗоЁЯЗ│</p>
        </footer>
    </div>

    <script>
        // Initialize translations on page load
        document.addEventListener('DOMContentLoaded', function () {
            const lang = getCurrentLanguage();

            // Update UI with current language
            document.getElementById('currentLanguage').textContent = languageNames[lang];
            document.getElementById('appName').textContent = t('appName');
            document.getElementById('tagline').textContent = t('appTagline');
            document.getElementById('selectionTitle').innerHTML = t('whoAreYou');
            document.getElementById('footerText').textContent = 'Made for Indian Farmers ЁЯЗоЁЯЗ│';

            // Update role cards based on language
            const farmerTitle = document.getElementById('farmerTitle');
            const mandiTitle = document.getElementById('mandiTitle');

            if (lang === 'en') {
                farmerTitle.innerHTML = 'Farmer<br><span>рдХрд┐рд╕рд╛рди</span>';
                mandiTitle.innerHTML = 'Mandi/Wholesaler<br><span>рдордВрдбреА/рдереЛрдХ рд╡рд┐рдХреНрд░реЗрддрд╛</span>';
            } else {
                farmerTitle.innerHTML = t('farmer') + '<br><span>' + t('farmerHindi') + '</span>';
                mandiTitle.innerHTML = t('mandi') + '<br><span>' + t('mandiHindi') + '</span>';
            }

            // Language dropdown toggle
            const languageBtn = document.getElementById('languageBtn');
            const languageDropdown = document.getElementById('languageDropdown');

            languageBtn.addEventListener('click', function (e) {
                e.stopPropagation();
                languageDropdown.classList.toggle('hidden');
            });

            // Close dropdown when clicking outside
            document.addEventListener('click', function () {
                languageDropdown.classList.add('hidden');
            });

            // Language selection
            document.querySelectorAll('.language-option').forEach(option => {
                option.addEventListener('click', function (e) {
                    e.stopPropagation();
                    const selectedLang = this.getAttribute('data-lang');
                    changeLanguage(selectedLang);
                });

                // Highlight current language
                if (option.getAttribute('data-lang') === lang) {
                    option.style.background = 'var(--farmer-light)';
                    option.style.fontWeight = '700';
                }
            });
        });
    </script>
</body>

</html>